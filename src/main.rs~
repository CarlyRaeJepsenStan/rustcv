use image::{io::Reader as ImageReader, GenericImageView};
use image::imageops::grayscale;
use crate::utils::to_greyscale;

mod first_derivative;
mod utils;

//alrighty, this is bad practice, but it works.
//Each test should be in the same file as the code it is for
//but I already did this. Soo....
#[cfg(test)]
mod tests;

fn main() {
    let image = ImageReader::open("../test_images/window_only.png").unwrap().decode().unwrap();
    let gray_pic = image.to_luma8();
    println!("{:?}", gray_pic[(0,0)]);
    gray_pic.into_vec()

}

fn create_first_derivative_nick_1() {
    let image = ImageReader::open("./test_images/window_only.png").unwrap().decode().unwrap();
    println!("{:?}", grayscale(&image));
    let first_div = first_derivative::calc_first_derivative_image_horizontal(&image);
    first_div.save("./output/first_div_horizontal.png").unwrap();
}
